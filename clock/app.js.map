{"version":3,"file":"app.js","names":["NumberInput","prefix","get","set","label","ns","id","inc","x","dec","React","createElement","onClick","className","ShowTime","remainingTime","formatTime","seconds","minutes","Math","floor","secs","sixty","globals","App","breakLength","setBreakLength","useState","sessionLength","setSessionLength","setRemainingTime","isRunning","setIsRunning","timer","setTimer","phase","setPhase","audio","useRef","useEffect","reset","current","pause","currentTime","toggleTimer","prev","clearInterval","tmr","setInterval","play","preload","src","ref","ReactDOM","render","document","getElementById"],"sources":["app.jsx"],"sourcesContent":["import \"https://unpkg.com/react@16/umd/react.production.min.js\";\nimport \"https://unpkg.com/react-dom@16/umd/react-dom.production.min.js\";\n\nconst NumberInput = ({ prefix, get, set, label }) => {\n    const ns = (id) => prefix + \"-\" + id;\n    const inc = () => set((x) => (x < 60 ? x + 1 : x));\n    const dec = () => set((x) => (x > 1 ? x - 1 : x));\n    return (\n        <div>\n            <label id={ns(\"label\")}>{label}</label>\n            <button id={ns(\"decrement\")} onClick={dec}>\n                Less\n            </button>\n            <div id={ns(\"length\")} className=\"input-value\">\n                {get}\n            </div>\n            <button id={ns(\"increment\")} onClick={inc}>\n                More\n            </button>\n        </div>\n    );\n};\n\nconst ShowTime = ({ remainingTime }) => {\n    const formatTime = (seconds) => {\n        const minutes = Math.floor(seconds / 60);\n        const secs = seconds % 60;\n        return `${minutes < 10 ? \"0\" + minutes : minutes}:${secs < 10 ? \"0\" + secs : secs}`;\n    };\n    return <div id=\"time-left\">{formatTime(remainingTime)}</div>;\n};\n\nconst sixty = 60;\nconst globals = {};\n\nconst App = () => {\n    const [breakLength, setBreakLength] = React.useState(5);\n    const [sessionLength, setSessionLength] = React.useState(25);\n    const [remainingTime, setRemainingTime] = React.useState(25 * sixty);\n    const [isRunning, setIsRunning] = React.useState(false);\n    const [timer, setTimer] = React.useState(null);\n    const [phase, setPhase] = React.useState(\"Session\");\n    const audio = React.useRef()\n\n    React.useEffect(() => {\n        setRemainingTime(sessionLength * sixty);\n    }, [sessionLength]);\n\n    const reset = () => {\n        setBreakLength(5);\n        setSessionLength(25);\n        setIsRunning(false);\n        setPhase(\"Session\");\n        audio.current.pause();\n        audio.current.currentTime = 0;\n    };\n\n    const toggleTimer = () => {\n        setIsRunning((prev) => !prev);\n    };\n\n    React.useEffect(() => {\n        clearInterval(timer);\n        if (isRunning) {\n            globals.phase = phase;\n            const tmr = setInterval(() => {\n                setRemainingTime((prev) => {\n                    if (prev <= 0) {\n                        audio.current.play()\n                        if (globals.phase === \"Session\") {\n                            globals.phase = \"Break\";\n                            setPhase(globals.phase);\n                            return breakLength * sixty;\n                        } else {\n                            globals.phase = \"Session\";\n                            setPhase(globals.phase);\n                            return sessionLength * sixty;\n                        }\n                    }\n                    return prev - 1;\n                });\n            }, 1000);\n            setTimer(tmr);\n        }\n    }, [isRunning]);\n\n    return (\n        <div>\n            <h1>25 + 5 Clock</h1>\n            <div>\n                <NumberInput prefix=\"break\" get={breakLength} set={setBreakLength} label=\"Break Length\" />\n                <NumberInput prefix=\"session\" get={sessionLength} set={setSessionLength} label=\"Session Length\" />\n            </div>\n            <div>\n                <label id=\"timer-label\">{phase}</label>\n                <ShowTime remainingTime={remainingTime} />\n                <button id=\"start_stop\" onClick={toggleTimer}>\n                    Start/Stop\n                </button>\n                <button id=\"reset\" onClick={reset}>\n                    Reset\n                </button>\n            </div>\n            <audio id=\"beep\" preload=\"auto\" src=\"https://cdn.freecodecamp.org/testable-projects-fcc/audio/BeepSound.wav\" ref={audio}></audio>\n        </div>\n    );\n};\n\nReactDOM.render(<App />, document.getElementById(\"app\"));\n"],"mappings":"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","ignoreList":[]}